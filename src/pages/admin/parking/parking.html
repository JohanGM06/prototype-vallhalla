<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="Sistema de gestión de parqueaderos para el conjunto residencial Valhalla - Administre y controle los espacios de estacionamiento de manera eficiente"
    />
    <meta
      name="keywords"
      content="parqueadero, gestión parqueadero, administración parqueadero, conjunto residencial, valhalla, estacionamiento"
    />
    <meta name="author" content="Valhalla Residencial" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Gestión de Parqueaderos | Valhalla Residencial" />
    <meta property="og:description" content="Sistema de gestión de parqueaderos para el conjunto residencial Valhalla" />
    <meta property="og:site_name" content="Valhalla Residencial" />

    <title>Gestión de Parqueaderos | Valhalla Residencial</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />

    <style>
      .fixed-navbar {
        position: sticky;
        top: 0;
        z-index: 1000;
        background: white;
      }
      .badge.bg-success { background-color: #198754 !important; }
      .badge.bg-danger { background-color: #dc3545 !important; }
      .badge.bg-warning { background-color: #ffc107 !important; }
      
      .alert {
        z-index: 1051;
      }
    </style>
    
  </head>
  <body>
    <div class="container-fluid">
      <div class="row flex-nowrap">
        <!-- Sidebar -->
        <div
          id="sidebar"
          class="col-auto px-0 bg-white border-end"
          style="width: 280px"
          role="navigation"
          aria-label="Menú principal"
        >
          <div
            class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 min-vh-100"
          >
            <a
              href="../dashboard.html"
              class="d-flex align-items-center pb-3 mb-md-1 mt-md-3 me-md-auto text-dark text-decoration-none"
            >
              <span class="fs-5 fw-bolder">VALHALLA</span>
            </a>
            <ul
              class="nav flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start w-100"
            >
              <li class="nav-item w-100">
                <a href="../dashboard.html" class="nav-link text-dark px-0">
                  <i class="bi bi-house"></i> <span class="ms-2">INICIO</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a href="../owners/owners.html" class="nav-link text-dark px-0">
                  <i class="bi bi-people"></i>
                  <span class="ms-2">PROPIETARIOS</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a href="../tenant/tenant.html" class="nav-link text-dark px-0">
                  <i class="bi bi-person-check"></i>
                  <span class="ms-2">ARRENDATARIOS</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a
                  href="../guard/guard.html"
                  class="nav-link text-dark px-0"
                >
                  <i class="bi bi-shield"></i>
                  <span class="ms-2">VIGILANTE</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a href="../apartments/apartments.html" class="nav-link text-dark px-0">
                  <i class="bi bi-house-door"></i>
                  <span class="ms-2">APARTAMENTOS</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a href="../payments/payments.html" class="nav-link text-dark px-0">
                  <i class="bi bi-credit-card"></i>
                  <span class="ms-2">PAGOS</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a
                  href="../surveys/surveys.html"
                  class="nav-link text-dark px-0"
                >
                  <i class="bi bi-clipboard-data"></i>
                  <span class="ms-2">ENCUESTAS</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a href="../reservations/reservations.html" class="nav-link text-dark px-0">
                  <i class="bi bi-calendar-check"></i>
                  <span class="ms-2">RESERVAS</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a href="../pqrs/PQRS.html" class="nav-link text-dark px-0">
                  <i class="bi bi-question-circle"></i>
                  <span class="ms-2">PQRS</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a href="../notifications/notifications.html" class="nav-link text-dark px-0">
                  <i class="bi bi-bell"></i>
                  <span class="ms-2">NOTIFICACIONES</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a
                  href="../parking/parking.html"
                  class="nav-link text-dark px-0 active"
                >
                  <i class="bi bi-p-square"></i>
                  <span class="ms-2">PARQUEADERO</span>
                </a>
              </li>
              <li class="nav-item w-100">
                <a href="../pets/pets.html" class="nav-link text-dark px-0">
                  <i class="bi bi-heart"></i> <span class="ms-2">MASCOTA</span>
                </a>
              </li>
            </ul>
          </div>
        </div>

        <!-- Main Content -->
        <main class="col p-0" role="main">
          <!-- Topbar -->
          <header class="navbar navbar-expand-lg bg-white border-bottom px-3 fixed-navbar" role="banner">
            <div class="container-fluid">
              <div class="d-flex align-items-center">
                <button
                  class="btn btn-link text-dark px-0 me-3"
                  id="sidebarToggle"
                  aria-label="Toggle sidebar"
                >
                  <i class="bi bi-list fs-4"></i>
                </button>
                <h1 class="navbar-text fs-5">Panel de Administración - Parqueaderos</h1>
              </div>

              <nav class="d-flex align-items-center ms-auto" role="navigation" aria-label="User actions">
                <div class="input-group me-3">
                  <span class="input-group-text bg-white border-end-0">
                    <i class="bi bi-search"></i>
                  </span>
                  <input
                    type="text"
                    class="form-control border-start-0"
                    placeholder="Search"
                  />
                </div>

                <button class="btn btn-link text-dark">
                  <i class="bi bi-bell fs-5"></i>
                </button>
                <button class="btn btn-link text-dark">
                  <i class="bi bi-envelope fs-5"></i>
                </button>
                <button class="btn btn-link text-dark">
                  <i class="bi bi-escape fs-5"></i>
                </button>
              </nav>
            </div>
          </header>

          <!-- Main content area -->
          <section class="container-fluid p-4" aria-labelledby="parking-title">
            <header class="row mb-4">
              <div class="col-12">
                <h2 id="parking-title" class="h2">Gestión de Parqueaderos</h2>
              </div>
            </header>

            <!-- Action Buttons -->
            <div class="row mb-4">
              <div class="col-12 d-flex gap-2">
                <button
                  class="btn btn-primary"
                  data-bs-toggle="modal"
                  data-bs-target="#parkingModal"
                  aria-label="Añadir nuevo parqueadero"
                >
                  <i class="bi bi-plus-lg" aria-hidden="true"></i> Añadir parqueadero
                </button>
              </div>
            </div>

            <!-- Search and Filters -->
            <form class="row mb-4" role="search">
              <div class="col-lg-4 col-md-6 mb-3">
                <label for="searchParking" class="visually-hidden">Buscar parqueadero</label>
                <div class="input-group">
                  <span class="input-group-text bg-white">
                    <i class="bi bi-search" aria-hidden="true"></i>
                  </span>
                  <input
                    type="search"
                    id="searchParking"
                    class="form-control"
                    placeholder="Buscar parqueadero..."
                  />
                </div>
              </div>
              <div class="col-lg-4 col-md-6 mb-3">
                <label for="statusFilter" class="visually-hidden">Filtrar por estado</label>
                <select id="statusFilter" class="form-select">
                  <option selected>Filtrar por estado</option>
                  <option value="disponible">Disponible</option>
                  <option value="ocupado">Ocupado</option>
                  <option value="mantenimiento">En mantenimiento</option>
                </select>
              </div>
            </form>

            <!-- Parking Spots Grid -->
            <section class="row g-4" aria-label="Lista de parqueaderos">
              <!-- Parking Card Template -->
              <article class="col-xl-3 col-lg-4 col-md-6">
                <div class="card h-100 shadow-sm">
                  <header class="card-header bg-transparent border-0 d-flex justify-content-between align-items-center">
                    <span class="badge bg-success" role="status">Disponible</span>
                    <div class="form-check form-switch">
                      <input class="form-check-input" type="checkbox" role="switch" aria-label="Toggle parking availability" checked>
                    </div>
                  </header>
                  <div class="card-body text-center">
                    <i class="bi bi-car-front display-4 mb-3" aria-hidden="true"></i>
                    <h3 class="card-title h5" data-parking-number>Parqueadero A-101</h3>
                    <dl class="small text-muted mb-3">
                      <dt class="visually-hidden">Tipo:</dt>
                      <dd data-parking-type>Residente</dd>
                      <dt class="visually-hidden">Propietario:</dt>
                      <dd data-owner-name>Juan Pérez</dd>
                      <dt class="visually-hidden">Apartamento:</dt>
                      <dd data-apartment>101</dd>
                      <dt class="visually-hidden">Placa:</dt>
                      <dd data-license-plate>ABC123</dd>
                      <dt class="visually-hidden">Tipo Vehículo:</dt>
                      <dd data-vehicle-type>Carro</dd>
                      <dt class="visually-hidden">Modelo:</dt>
                      <dd data-vehicle-model>Toyota Corolla 2022</dd>
                    </dl>
                  </div>
                  <footer class="card-footer bg-transparent border-0">
                    <div class="btn-group w-100" role="group" aria-label="Acciones de parqueadero">
                      <button
                        class="btn btn-outline-primary btn-sm"
                        data-bs-toggle="modal"
                        data-bs-target="#viewModal"
                      >
                        <i class="bi bi-eye"></i>
                      </button>
                      <button
                        class="btn btn-outline-primary btn-sm"
                        data-bs-toggle="modal"
                        data-bs-target="#editModal"
                      >
                        <i class="bi bi-pencil"></i>
                      </button>
                      <button
                        class="btn btn-outline-danger btn-sm"
                        data-bs-toggle="modal"
                        data-bs-target="#deleteModal"
                      >
                        <i class="bi bi-trash"></i>
                      </button>
                    </div>
                  </footer>
                </div>
              </article>
            </section>
          </section>
        </main>
      </div>
    </div>

    <!-- Add/Edit Parking Modal -->
    <div
      class="modal fade"
      id="parkingModal"
      tabindex="-1"
      aria-labelledby="parkingModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="parkingModalLabel">
              Añadir Parqueadero
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="parkingForm" class="needs-validation" novalidate>
              <div class="row g-3">
                <div class="col-md-6">
                  <label for="parkingNumber" class="form-label"
                    >Número Parqueadero</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="parkingNumber"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="parkingType" class="form-label"
                    >Tipo de Parqueadero</label
                  >
                  <select class="form-select" id="parkingType" required>
                    <option value="">Seleccionar tipo...</option>
                    <option value="residente">Residente</option>
                    <option value="visitante">Visitante</option>
                  </select>
                </div>

                <!-- Resident Fields (shown/hidden based on type) -->
                <div class="resident-fields">
                  <div class="col-md-6">
                    <label for="ownerName" class="form-label"
                      >Propietario</label
                    >
                    <input type="text" class="form-control" id="ownerName" />
                  </div>
                  <div class="col-md-6">
                    <label for="apartment" class="form-label"
                      >Apartamento</label
                    >
                    <input type="text" class="form-control" id="apartment" />
                  </div>
                </div>

                <!-- Visitor Fields (shown/hidden based on type) -->
                <div class="visitor-fields d-none">
                  <div class="col-md-6">
                    <label for="visitorName" class="form-label"
                      >Nombre Visitante</label
                    >
                    <input type="text" class="form-control" id="visitorName" />
                  </div>
                  <div class="col-md-6">
                    <label for="visitDuration" class="form-label"
                      >Duración de Visita</label
                    >
                    <select class="form-select" id="visitDuration">
                      <option value="1">1 hora</option>
                      <option value="2">2 horas</option>
                      <option value="4">4 horas</option>
                      <option value="8">8 horas</option>
                      <option value="24">24 horas</option>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <label for="visitingApartment" class="form-label"
                      >Apartamento a Visitar</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="visitingApartment"
                    />
                  </div>
                </div>

                <!-- Common Fields -->
                <div class="col-md-6">
                  <label for="licensePlate" class="form-label">Placa</label>
                  <input
                    type="text"
                    class="form-control"
                    id="licensePlate"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="vehicleType" class="form-label"
                    >Tipo de Vehículo</label
                  >
                  <select class="form-select" id="vehicleType" required>
                    <option value="">Seleccionar...</option>
                    <option value="carro">Carro</option>
                    <option value="moto">Moto</option>
                    <option value="bicicleta">Bicicleta</option>
                  </select>
                </div>
                <div class="col-12">
                  <label for="carModel" class="form-label"
                    >Modelo del Vehículo</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="carModel"
                    required
                  />
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancelar
            </button>
            <button type="submit" form="parkingForm" class="btn btn-primary">
              Guardar
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- View Modal -->
    <div class="modal fade" id="viewModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Detalles del Parqueadero</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <dl class="row">
              <dt class="col-sm-4">Parqueadero:</dt>
              <dd class="col-sm-8" id="view-parkingNumber"></dd>

              <dt class="col-sm-4">Tipo:</dt>
              <dd class="col-sm-8" id="view-parkingType"></dd>

              <dt class="col-sm-4">Propietario:</dt>
              <dd class="col-sm-8" id="view-ownerName"></dd>

              <dt class="col-sm-4">Apartamento:</dt>
              <dd class="col-sm-8" id="view-apartment"></dd>

              <dt class="col-sm-4">Placa:</dt>
              <dd class="col-sm-8" id="view-licensePlate"></dd>

              <dt class="col-sm-4">Tipo Vehículo:</dt>
              <dd class="col-sm-8" id="view-vehicleType"></dd>

              <dt class="col-sm-4">Modelo:</dt>
              <dd class="col-sm-8" id="view-carModel"></dd>
            </dl>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cerrar
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Confirmar Eliminación</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body text-center">
            <p>¿Está seguro que desea eliminar este parqueadero?</p>
          </div>
          <div class="modal-footer justify-content-center">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancelar
            </button>
            <button type="button" class="btn btn-danger">Eliminar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Add a separate Edit Modal -->
    <div
      class="modal fade"
      id="editModal"
      tabindex="-1"
      aria-labelledby="editModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editModalLabel">Editar Parqueadero</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="editParkingForm" class="needs-validation" novalidate>
              <div class="row g-3">
                <div class="col-md-6">
                  <label for="editParkingNumber" class="form-label"
                    >Número Parqueadero</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="editParkingNumber"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="editParkingType" class="form-label"
                    >Tipo de Parqueadero</label
                  >
                  <select class="form-select" id="editParkingType" required>
                    <option value="">Seleccionar tipo...</option>
                    <option value="residente">Residente</option>
                    <option value="visitante">Visitante</option>
                  </select>
                </div>

                <!-- Resident Fields -->
                <div class="edit-resident-fields">
                  <div class="col-md-6">
                    <label for="editOwnerName" class="form-label"
                      >Propietario</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="editOwnerName"
                    />
                  </div>
                  <div class="col-md-6">
                    <label for="editApartment" class="form-label"
                      >Apartamento</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="editApartment"
                    />
                  </div>
                </div>

                <!-- Visitor Fields -->
                <div class="edit-visitor-fields d-none">
                  <div class="col-md-6">
                    <label for="editVisitorName" class="form-label"
                      >Nombre Visitante</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="editVisitorName"
                    />
                  </div>
                  <div class="col-md-6">
                    <label for="editVisitDuration" class="form-label"
                      >Duración de Visita</label
                    >
                    <select class="form-select" id="editVisitDuration">
                      <option value="1">1 hora</option>
                      <option value="2">2 horas</option>
                      <option value="4">4 horas</option>
                      <option value="8">8 horas</option>
                      <option value="24">24 horas</option>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <label for="editVisitingApartment" class="form-label"
                      >Apartamento a Visitar</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="editVisitingApartment"
                    />
                  </div>
                </div>

                <!-- Common Fields -->
                <div class="col-md-6">
                  <label for="editLicensePlate" class="form-label">Placa</label>
                  <input
                    type="text"
                    class="form-control"
                    id="editLicensePlate"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="editVehicleType" class="form-label"
                    >Tipo de Vehículo</label
                  >
                  <select class="form-select" id="editVehicleType" required>
                    <option value="">Seleccionar...</option>
                    <option value="carro">Carro</option>
                    <option value="moto">Moto</option>
                    <option value="bicicleta">Bicicleta</option>
                  </select>
                </div>
                <div class="col-12">
                  <label for="editCarModel" class="form-label"
                    >Modelo del Vehículo</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="editCarModel"
                    required
                  />
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancelar
            </button>
            <button
              type="submit"
              form="editParkingForm"
              class="btn btn-primary"
            >
              Guardar Cambios
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Add a separate Visitor Parking Modal -->
    <div
      class="modal fade"
      id="visitorParkingModal"
      tabindex="-1"
      aria-labelledby="visitorParkingModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="visitorParkingModalLabel">
              Asignar Parqueadero Visitante
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="visitorParkingForm" class="needs-validation" novalidate>
              <div class="row g-3">
                <div class="col-md-6">
                  <label for="visitorParkingNumber" class="form-label"
                    >Número Parqueadero</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="visitorParkingNumber"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="visitorName" class="form-label"
                    >Nombre Visitante</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="visitorName"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="visitingApartment" class="form-label"
                    >Apartamento a Visitar</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="visitingApartment"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="visitDuration" class="form-label"
                    >Duración de Visita</label
                  >
                  <select class="form-select" id="visitDuration" required>
                    <option value="">Seleccionar duración...</option>
                    <option value="1">1 hora</option>
                    <option value="2">2 horas</option>
                    <option value="4">4 horas</option>
                    <option value="8">8 horas</option>
                    <option value="24">24 horas</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <label for="visitorLicensePlate" class="form-label"
                    >Placa</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="visitorLicensePlate"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label for="visitorVehicleType" class="form-label"
                    >Tipo de Vehículo</label
                  >
                  <select class="form-select" id="visitorVehicleType" required>
                    <option value="">Seleccionar...</option>
                    <option value="carro">Carro</option>
                    <option value="moto">Moto</option>
                    <option value="bicicleta">Bicicleta</option>
                  </select>
                </div>
                <div class="col-12">
                  <label for="visitorCarModel" class="form-label"
                    >Modelo del Vehículo</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="visitorCarModel"
                    required
                  />
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancelar
            </button>
            <button
              type="submit"
              form="visitorParkingForm"
              class="btn btn-primary"
            >
              Asignar
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Simple JavaScript for functionality -->
   <script src="../../../scripts/components/parking2.js"></script>
    <script src="../../../scripts/components/navbarToggle.js"></script>
  </body>
</html>
